<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music</title>

    <link rel="shortcut icon"
        href="https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/000000/external-halloween-festivals-and-holidays-flaticons-lineal-color-flat-icons-3.png">

    <link href="https://fonts.googleapis.com/css2?family=Fuzzy+Bubbles:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./music.css">
</head>

<body>
    <div class="sidebar">
        <img src="./../cosplay/assets/Logocovien.png" alt="">
        <div class="menu"></div>
        <a id="baihat" href="#adult">Bài Hát</a>
        <a id="album-link" href="#album">Album</a>
        <a id="sukien" href="./index.html">Sự kiện</a>
        <a id="dangky" href="./dk.html">Đăng ký</a>

        <div class="line"></div>

        <div class="funfact" id="facts">
            <h3>Fun facts</h3>
        </div>
    </div>
    </div>
    <div class="main">
        <div class="songs">
            <div id="adult" class="adult">
                <h2>Bài hát Halloween cho người lớn</h2>
                <div class="adultsongs">
                    <ul class="songlist" id="adult-songs"></ul>
                </div>
            </div>

            <div class="children" id="children">
                <h2>Bài hát Halloween cho trẻ em</h2>
                <div class="childrensongs">
                    <ul class="songlist" id="children-songs"></ul>
                </div>
            </div>

            <div class="line2"></div>
            <div id="album" class="album">
                <h2>ALBUM</h2>
                <div class="playlist">
                    <ul class="songlist" id="playlist"></ul>
                </div>
                <div class="line2"></div>
            </div>
        </div>
    </div>

    <div id="player">
        <div id="player-control">
            <button id="prev">
                <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M21 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953l7.108-4.062A1.125 1.125 0 0121 8.688v8.123zM11.25 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953L9.567 7.71a1.125 1.125 0 011.683.977v8.123z" />
                </svg>
            </button>
            <button id="play">
                <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M21 7.5V18M15 7.5V18M3 16.811V8.69c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 010 1.954l-7.108 4.061A1.125 1.125 0 013 16.811z" />
                </svg>

            </button>
            <button id="next">
                <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 013 16.81V8.688zM12.75 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062a1.125 1.125 0 01-1.683-.977V8.688z" />
                </svg>

            </button>
        </div>
        <marquee width="250" id="song-name">
            No song playing
        </marquee>
        <audio id="song">
            <source type="audio/mpeg" src="">
        </audio>
    </div>

    <script>
        const apiFact = "https://634bbd3cd90b984a1e3e8ce3.mockapi.io/facts";
        fetch(apiFact).then((r) => r.json())
            .then((data) => {
                for (let index = 0; index < data.length; index++) {
                    const element = data[index];

                    document.querySelector("#facts").innerHTML += "<p>" + element + "</p>";
                }
            })

        const adultSongs = [
            {
                "name": "There will be blood",
                "writer": "Kim Petras",
                "image": "https://i.scdn.co/image/ab67616d00001e02c877df6d9a3fe603c85b2871",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Kim_Petras_There_Will_Be_Blood.mp3",
            },
            {
                "name": "Nightmare",
                "writer": "Halsey",
                "image": "https://i.scdn.co/image/ab67616d00001e020db100d30d1ef9a91aefeabf",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Halsey_Nightmare.mp3",
            },
            {
                "name": "SCARY MONSTERS AND NICE SPRITES",
                "writer": "Skrillex",
                "image": "https://i.scdn.co/image/ab67616d00001e020d9a6a2a68b4010c5b21a38c",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Skrillex_Scary_Monsters_And_Nice_Sprites_Offici.mp3",
            },
            {
                "name": "Monster",
                "writer": "Lady Gaga",
                "image": "https://i.scdn.co/image/ab67616d00001e025c9890c0456a3719eeecd8aa",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Lady_Gaga_Monster.mp3",
            },
            {
                "name": "Take what you want",
                "writer": "Post Malone",
                "image": "https://i.scdn.co/image/ab67616d00001e029478c87599550dd73bfa7e02",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Post_Malone_Take_What_You_Want.mp3",
            },
            {
                "name": "Disturbia",
                "writer": "Rihanna",
                "image": "https://i.scdn.co/image/ab67616d00001e02f9f27162ab1ed45b8d7a7e98",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Rihanna_Disturbia.mp3",
            },
            {
                "name": "FEED MY FRANKENSTEIN",
                "writer": "Alice Cooper",
                "image": "https://i.scdn.co/image/ab67616d00001e020dfeebaf5d196ff2638a3633",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Alice_Cooper_Feed_My_Frankenstein_Official_Vide.mp3",
            },
            {
                "name": "Everyday is Halloween",
                "writer": "Ministry",
                "image": "https://i.scdn.co/image/ab67616d00001e025f7bf0ab57f9df0883b4cc74",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Ministry_Every_Day_Is_Halloween.mp3",
            },
            {
                "name": "Bury a friend",
                "writer": "Billie Eilish",
                "image": "https://i.scdn.co/image/ab67616d00001e0250a3147b4edd7701a876c6ce",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Billie_Eilish_bury_a_friend.mp3",
            },
            {
                "name": "Thriller",
                "writer": "Micheal Jackson",
                "image": "https://i.scdn.co/image/ab67616d00001e02de437d960dda1ac0a3586d97",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Michael_Jackson_Thriller.mp3",

            }
        ];
        const childrenSongs = [
            {
                "name": "This is Halloween",
                "writer": "Danny Elfman",
                "image": "https://i.scdn.co/image/ab67616d00001e0247cc5d86f3528b233f2b78ff",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Dino_Nuggz_This_is_Halloween.mp3",
            },
            {
                "name": "Monster Mash",
                "writer": "Bobby Boris Pickett",
                "image": "https://i.scdn.co/image/ab67616d00004851edf6710f9c0cd81e37fcaf3d",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Bobby_Boris_Pickett_Monster_Mash.mp3",
            },
            {
                "name": "Under my bed",
                "writer": "Recess Monkeys",
                "image": "https://i.scdn.co/image/ab67616d00001e02b32dfcf8065fdb8ff77b360e",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Under_My_Bed.mp3",
            },
            {
                "name": "Spooky, scary skeletons",
                "writer": "Andrew Gold",
                "image": "https://i.scdn.co/image/ab67616d00001e02a3cf7d524baed9e303302918",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Spooky_Scary_Skeletons_Original_Video_4K_HD_.mp3",
            },
            {
                "name": "Them bones",
                "writer": "Casper Babypants",
                "image": "https://media.timeout.com/images/105846107/380/285/image.jpg",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\The_Skeleton_Dance.mp3",
            },
            {
                "name": "The Monster hop",
                "writer": "Bert Convy",
                "image": "https://i.scdn.co/image/ab67616d00001e02893b3ceb557f555b81137655",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Bert_Convy_The_Monsters_Hop.mp3",
            },
            {
                "name": "The Purple People Eater",
                "writer": "Sheb Wooley",
                "image": "https://i.scdn.co/image/ab67616d00001e02a401debe1538c240f685d2db",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Sheb_Wooley_The_Purple_People_Eater.mp3",
            },
            {
                "name": "Halloween Sharks",
                "writer": "Pinkfong",
                "image": "https://i.scdn.co/image/ab67616d00001e0244a460d1cc632b1277139c96",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Pinkfong_Halloween_Zombie_Sharks.mp3",
            },
            {
                "name": "Costume Party",
                "writer": "The Pop Ups",
                "image": "https://i.scdn.co/image/ab67616d00001e02372695b19253e632d3fc96a7",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Jack_Johnson_Costume_Party.mp3",
            },
            {
                "name": "Ghostbusters",
                "writer": "Ray Parker",
                "image": "https://i.scdn.co/image/ab67616d00001e02aed4808eac27b70ba532f0e4",
                "path": "C:\Users\ADMIN\OneDrive\Documents\GitHub\JSA26\SPCK-JSA26\Music\mp3\Ray_Parker_Jr_Ghostbusters.mp3",

            }
        ];
        const playlist = [
            {
                "name": "Halloween Howls",
                "writer": "Andrew Gold",
                "image": "https://i.scdn.co/image/ab67616d00001e02a3cf7d524baed9e303302918"
            },
            {
                "name": "Halloween beats",
                "writer": "H@tten",
                "image": "https://i.scdn.co/image/ab67616d00001e02403eb6112596985a80a6b62b"
            },
            {
                "name": "Helloween Playlist",
                "writer": "various artists",
                "image": "https://i.scdn.co/image/ab67616d00001e0218595c65a8b0914b55f82da3"
            },
            {
                "name": "Halloween",
                "writer": "JDHD Beats",
                "image": "https://i.scdn.co/image/ab67616d00001e02e4b15c92ae3f2690483c7a00"
            },
            {
                "name": "Halloween with CoComelon",
                "writer": "CoComelon",
                "image": "https://i.scdn.co/image/ab67616d00001e027318a1fc927fe7824a59dc12"
            },

        ];

        localStorage.setItem("adultSongs", JSON.stringify(adultSongs));

        const adultSongsFromLS = JSON.parse(localStorage.getItem("adultSongs"));
        for (let index = 0; index < adultSongsFromLS.length; index++) {
            const element = adultSongsFromLS[index];

            document.querySelector("#adult-songs").innerHTML += `
                <li id="a${index}" data-song="${element.song}" data-name="${element.name}">
                    <img src="${element.image}" alt="">
                    <a class="songname">${element.name}</a>
                    <a class="songwriter">${element.writer}</a>
                </li>
            `;
        }

        const audio = document.querySelector("#song");
        const songElements = document.querySelectorAll("#adult-songs > li");
        const songName = document.querySelector("#song-name");
        const playButton = document.querySelector("#play");
        const nextButton = document.querySelector("#next");
        const prevButton = document.querySelector("#prev");
        let current = 0;

        for (let index = 0; index < songElements.length; index++) {
            const element = songElements[index];

            element.onclick = () => {
                current = index;
                songName.innerHTML = element.dataset.name;
                audio.firstElementChild.src = element.dataset.song;
                audio.load();
                audio.play();
            }
        }

        playButton.onclick = () => {
            if (audio.paused === true) {
                audio.play();
            } else {
                audio.pause();
            }
        }

        function play(id) {
            songName.innerHTML = adultSongsFromLS[id].name;
            audio.firstElementChild.src = adultSongsFromLS[id].song;
            audio.load();
            audio.play();
        }

        nextButton.onclick = () => {
            current++;
            if (current > adultSongsFromLS.length - 1) {
                current = 0;
            }
            play(current);
        }

        prevButton.onclick = () => {
            current--;
            if (current < 0) {
                current = adultSongsFromLS.length - 1;
            }
            play(current);
        }
    </script>
</body>

</html>